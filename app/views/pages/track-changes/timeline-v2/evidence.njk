{% extends "layouts/layout.njk" %}

{% block pageTitle %}
  Track Changes
{% endblock %}

{% block content %}

  {% if (data['nino'] === "PP123456A") %} 
  <p class="govuk-body"><a href="/pages/welcome-pp" class="govuk-back-link">Back to Home</a></p>
  {% elseif (data['nino'] === "RP123456A") %}
  <p class="govuk-body"><a href="/pages/welcome-rp" class="govuk-back-link">Back to Home</a></p>
  {% elseif (data['nino'] === "PP123456B") %}
  <p class="govuk-body"><a href="/pages/welcome-pp-multi-collect" class="govuk-back-link govuk-!-margin-bottom-4">Back to Home</a></p>
  {% elseif (data['nino'] === "RP123456B") %}
  <p class="govuk-body"><a href="/pages/welcome-rp-B" class="govuk-back-link">Back to Home</a></p>
  {% else %}
  <p class="govuk-body"><a href="/pages/welcome" class="govuk-back-link">Back to Home</a></p>
  {% endif %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-xl">Track Changes</h1>
      <p class="govuk-body">Track the progress of a change you have reported. Your report will be dealt with as soon as possible, usually within 4 weeks. It may take longer, for example, if we need to contact the other parent or evidence is required.</p>
      <p class="govuk-body">You will not be able to view the progress of any enforcement action we are taking to recover unpaid child maintenance.</p>
    </div>
  </div>

  <br/>

  <div class="govuk-grid-row">

     <div class="govuk-grid-column-full filters-mobile">  
      <a id="toggle-filter" href="#" class="govuk-link govuk-!-margin-bottom-6" onClick="toggleFilter()">
        <span id="toggle-filter-icon" class="govuk-accordion-nav__chevron govuk-accordion-nav__chevron--down"></span>
        Show filters ({{ data["track-changes-filter-count"] }} applied)
      </a>
    </div>
    <div class="govuk-grid-column-one-third filters-desktop">
      {# filters #}
      <h2 class="govuk-heading-m">Filters</h2>
      <h3 class="govuk-heading-s">Date Received</h3>
      <form method="POST" action="">
        {{ govukInput({
          label: {
            text: "Report submitted after",
            classes: "govuk-label"
          },
          id: "report-after",
          name: "report-after",
          value: data["report-after"],
          hint: {
            text: "For example 2005 or 21/11/2014"
          }
        }) }}

        {{ govukInput({
          label: {
            text: "Report submitted before",
            classes: "govuk-label"
          },
          id: "report-before",
          name: "report-before",
          value: data["report-before"],
          hint: {
            text: "For example 2005 or 21/11/2014"
          }
        }) }}

        {{ govukCheckboxes({
          idPrefix: "report-status",
          name: "report-status",
          fieldset: {
            legend: {
              text: "Status of report",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: "report-completed",
              text: "Completed",
              checked: data.completed
            },
            {
              value: "report-evidence-requested",
              text: "Evidence Requested",
              checked: data.evidence_requested
            },
            {
              value: "report-evidence-uploaded",
              text: "Evidence Uploaded",
              checked: true
            },
            {
              value: "report-in-progress",
              text: "In Progress",
              checked: data.in_progress
            },
            {
              value: "report-received",
              text: "Received",
              checked: data.received
            },
            {
              value: "report-rejected",
              text: "Rejected",
              checked: data.rejected
            }
          ]
        }) }}

        <a class="govuk-link block govuk-!-margin-bottom-6" href="">Clear all filters</a>

        {{ govukButton({
          text: "Apply filter",
          element: "input",
          classes: "govuk-button--secondary"
        }) }}

      </form>
    </div>
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-m">325 Changes</h2>
      <ul class="track-changes-result-list govuk-list">
        <li class="track-changes-result-list__change-item">
          <a href="/pages/track-changes/timeline-v2/file-upload-track" class="govuk-body govuk-link bold">Change to shared care</a>
          <div style="float: right;">
          <strong class="govuk-tag govuk-tag--purple">Evidence uploaded</strong>
          <br>
          <strong class="govuk-tag govuk-tag--blue" style="
    float: right;
    margin-top: 10px;
    margin-top: 10px !important;
">Received</strong>
          </div>
          <p class="govuk-body track-changes-result-list__change-details">
            <span class="submitted">Submitted: 6 July 2025</span>
            <span class="updated">Updated: Today</span>
          </p>
          <p class="govuk-body track-changes-result-list__change-case">Noah and 1 more</p>
        </li>
        <li class="track-changes-result-list__change-item">
          
          <a href="/pages/track-changes/timeline-v2/change-received-sharedcare" class="govuk-body govuk-link bold">Change to shared care arrangement</a>
          <div style="float: right;">
          <strong class="govuk-tag govuk-tag--purple">Evidence uploaded</strong>
          <br>
          <strong class="govuk-tag govuk-tag--blue" style="
    float: right;
    margin-top: 10px;
    margin-top: 10px !important;
    ">Received</strong>
          </div>
          <p class="govuk-body track-changes-result-list__change-details">
            <span class="submitted">Submitted: 8 June 2024</span>
            <span class="updated">Updated: 18 June 2024</span>
          </p>
          <p class="govuk-body track-changes-result-list__change-case">Noah and 1 more</p>
        </li>
        <li class="track-changes-result-list__change-item">
          <a href="/pages/track-changes/timeline-v2/change-received-CTST" class="govuk-body govuk-link bold">Change to service type</a>
                  <div style="float: right;">
          <strong class="govuk-tag govuk-tag--purple">Evidence uploaded</strong>
          <br>
          <strong class="govuk-tag govuk-tag--blue" style="
    float: right;
    margin-top: 10px;
    margin-top: 10px !important;
    ">Received</strong>
          </div>
          <p class="govuk-body track-changes-result-list__change-details">
            <span class="submitted">Submitted: 8 May 2024</span>
            <span class="updated">Updated: 20 May 2024</span>
          </p>
          <p class="govuk-body track-changes-result-list__change-case">Noah and 1 more</p>
        </li>
        <li class="track-changes-result-list__change-item">
          <a href="/pages/track-changes/timeline-v2/change-received" class="govuk-body govuk-link bold">Change bank details</a>
                  <div style="float: right;">
          <strong class="govuk-tag govuk-tag--purple">Evidence uploaded</strong>
          <br>
          <strong class="govuk-tag govuk-tag--green" style="
    float: right;
    margin-top: 10px;
    margin-top: 10px !important;
    ">Completed</strong>
          </div>
          <p class="govuk-body track-changes-result-list__change-details">
            <span class="submitted">Submitted: 31 March 2024</span>
            <span class="updated">Updated: 4 April 2024</span>
          </p>
          <p class="govuk-body track-changes-result-list__change-case">Noah and 1 more</p>
        </li>
      </ul>
    </div>
  </div>

{% endblock %}