{% extends "layouts/layout.njk" %}

{% block pageTitle %}
  My messages and contact history
{% endblock %}

{% block content %}

  {% if (data['nino'] === "PP123456A") %} 
  <p class="govuk-body"><a href="/pages/welcome-pp" class="govuk-back-link">Back to Home</a></p>
  {% elseif (data['nino'] === "RP123456A") %}
  <p class="govuk-body"><a href="/pages/welcome-rp" class="govuk-back-link">Back to Home</a></p>
  {% elseif (data['nino'] === "PP123456B") %}
    <p class="govuk-body"><a href="/pages/welcome-pp-multi-collect" class="govuk-back-link govuk-!-margin-bottom-4">Back to Home</a></p>
  {% elseif (data['nino'] === "RP123456B") %}
  <p class="govuk-body"><a href="/pages/welcome-rp-B" class="govuk-back-link">Back to Home</a></p>
  {% else %}
  <p class="govuk-body"><a href="/pages/welcome" class="govuk-back-link">Back to Home</a></p>
  {% endif %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">Notifications</h1>
      <p class="govuk-body">View and search your digital letter notifications.</p>
      <div class="notificationWrapper"><p class="govuk-body">Additionally, you can <a href="/pages/caseworker-connect/index" class="govuk-link">View recent caseworker messages</a><div class="notificationBadge">3</div> </p></div>
      </br></br>
    </div>
  </div>

  </br>

  <div class="govuk-grid-row">

    <div class="govuk-grid-column-full filters-mobile">
      
      <a id="toggle-filter" href="#" class="govuk-link govuk-!-margin-bottom-6" onClick="toggleFilter()">
        <span id="toggle-filter-icon" class="govuk-accordion-nav__chevron govuk-accordion-nav__chevron--down"></span>
        Show filters ({{ data["filter-count"] }} applied)
      </a>
    </div>
    <div class="govuk-grid-column-one-third filters-desktop">
      {# filters #}
      <h2 class="govuk-heading-m">Filters</h2>
      <h3 class="govuk-heading-s">Date Received</h3>
      <form method="POST" action="">
        {{ govukInput({
          label: {
            text: "Messages received after",
            classes: "govuk-label"
          },
          id: "messages-after",
          name: "messages-after",
          value: data["messages-after"],
          hint: {
            text: "For example 2020 or 21/11/2020"
          }
        }) }}

        {{ govukInput({
          label: {
            text: "Messages received before",
            classes: "govuk-label"
          },
          id: "messages-before",
          name: "messages-before",
          value: data["messages-before"],
          hint: {
            text: "For example 2020 or 21/11/2020"
          }
        }) }}
        
        {{ govukCheckboxes({
          idPrefix: "cases",
          name: "cases",
          fieldset: {
            legend: {
              text: "Cases",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: "1-CaseId",
              text: "Noah and 1 more",
              checked: data.case_1
            }
          ]
        }) }}

        <a class="govuk-link block govuk-!-margin-bottom-6" href="">Clear all filters</a>

        {{ govukButton({
          text: "Apply filter",
          name: "apply-filter",
          element: "input",
          classes: "govuk-button--secondary"
        }) }}

      </form>
    </div>
    <div class="govuk-grid-column-two-thirds">
      <ul class="message-summary-list govuk-list">
        <li>
          <span class="govuk-body right">18 April 2023</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Update about your case</a>
        </li>
        <li>
          <span class="govuk-body right">18 October 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Important information about your case</a>
        </li>
        <li>
          <span class="govuk-body right">23 September 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">We need to check some information with you</a>
          <p class="govuk-body bold">Noah and 1 more</p>
        </li>
        <li>
          <span class="govuk-body right">1 September 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Important information about your case</a>
        </li>
        <li>
          <span class="govuk-body right">18 July 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Your payment calculation</a>
        </li>
        <li>
          <span class="govuk-body right">8 June 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Your child maintenance enquiry</a>
          <p class="govuk-body bold">Noah and 1 more</p>
        </li>
        <li>
          <span class="govuk-body right">5 June 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">We've received your reconsideration request</a>
          <p class="govuk-body bold">Noah and 1 more</p>
        </li>
        <li>
          <span class="govuk-body right">27 January 2022</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Important information about your case</a>
        </li>
        <li>
          <span class="govuk-body right">4 August 2021</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Your child maintenance enquiry</a>
        </li>
        <li>
          <span class="govuk-body right">19 July 2021</span>
          <a href="/pages/messages/received-message" class="govuk-body govuk-link">Your child maintenance payments â€“ our decision</a>
        </li>
      </ul>
      {{cmgPagination({
      })}}
    </div>
  </div>

{% endblock %}